define("app/adapters/application",["ember","ember-data","exports"],function(e,t,s){"use strict";var a=e["default"],n=t["default"];s["default"]=n.RESTAdapter.extend({namespace:a.ENV.NAMESPACE})}),define("app/app",["ember","ember/resolver","ember/load-initializers","exports"],function(e,t,s,a){"use strict";var n=e["default"],r=t["default"],i=s["default"];n.MODEL_FACTORY_INJECTIONS=!0;var l=n.Application.extend({modulePrefix:"app",Resolver:r});i(l,"app"),a["default"]=l}),define("app/clock",["ember","exports"],function(e,t){"use strict";var s=e["default"],a=500;t["default"]=s.Object.extend({second:null,minute:null,hour:null,init:function(){this.tick()},tick:function(){var e=new Date;this.setProperties({second:e.getSeconds(),minute:e.getMinutes(),hour:e.getHours()});var t=this;setTimeout(function(){t.tick()},a)}})}),define("app/config/environment",["exports"],function(e){"use strict";e["default"]={environment:"production",baseURL:"/",locationType:"auto",EmberENV:{FEATURES:{}},APP:{}}}),define("app/controllers/application",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Controller.extend({pollInterval:s.ENV.POLL_INTERVAL})}),define("app/controllers/item",["ember","exports"],function(e,t){"use strict";var s=e["default"],a={20:"highest",10:"high",0:"default","-10":"low","-20":"lowest"},n=s.ObjectController.extend({nextRunAtFromNow:function(){var e=moment.utc(this.get("nextRunAt")),t=moment.utc(),s=e.diff(t),a=Math.floor(s/1e3);return 0>a&&(a=0),a}.property("clock.second"),priorityHuman:function(){return a[this.get("priority")]}.property("priority"),isRunning:s.computed.bool("lockedAt"),actions:{toggleDataExpand:function(){this.toggleProperty("dataExpanded")},toggleDetailsExpand:function(){this.toggleProperty("detailsExpanded")}}});t["default"]=n}),define("app/controllers/jobs",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Controller.extend({needs:["jobs/feed"],filter:"future",job:"all",meta:function(){return this.store.metadataFor("job")}.property("controllers.jobs/feed.content","filter","job"),sortedDefinitions:function(){return this.get("definitions").sortBy("sortValue","id")}.property("definitions")})}),define("app/controllers/jobs/feed-item",["ember","exports"],function(e,t){"use strict";var s=e["default"],a={20:"highest",10:"high",0:"default","-10":"low","-20":"lowest"},n=s.ObjectController.extend({nextRunAtFromNow:function(){var e=moment.utc(this.get("nextRunAt")),t=moment.utc(),s=e.diff(t),a=Math.floor(s/1e3);return 0>a&&(a=0),a}.property("clock.second"),priorityHuman:function(){return a[this.get("priority")]}.property("priority"),isRunning:s.computed.bool("lockedAt"),actions:{toggleDataExpand:function(){this.toggleProperty("dataExpanded")},toggleDetailsExpand:function(){this.toggleProperty("detailsExpanded")}}});t["default"]=n}),define("app/controllers/jobs/feed",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.ArrayController.extend({needs:["jobs"],queryParams:["filter","job"],filter:s.computed.alias("controllers.jobs.filter"),job:s.computed.alias("controllers.jobs.job"),meta:function(){return this.get("content.meta")}.property("content"),itemController:"jobs/feed-item",sortProperties:["type","nextRunAt","isFinished"],orderBy:function(e,t){var s=0;return s=e.get("isFinished")&&t.get("isFinished")?e.get("lastRunAt")>t.get("lastRunAt")?-1:1:e.get("isFinished")||t.get("isFinished")?e.get("isFinished")?-1:1:e.get("nextRunAt")<t.get("nextRunAt")?-1:1}})}),define("app/helpers/highlight-object",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.makeBoundHelper(function(e,t,a){e=e||{};var n=JSON.stringify(e,t,a);return n=n.replace(/^\s+|\s+$/g,""),n=hljs.highlightAuto(n).value,new s.Handlebars.SafeString(n)})}),define("app/helpers/time-tag",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.makeBoundHelper(function(e,t){if(e){var a=t.hash;a.format=a.format||"H:mm:ss, dd MMM Do";var n=moment.utc(e).format(a.format),r='<time title="'+e+'" datetime="'+e+'" class="time">'+n+"</time>";return a.prefix&&(r=a.prefix+" "+r),new s.Handlebars.SafeString('<span class="time-container">'+r+"</span>")}})}),define("app/initializers/clock",["app/clock","exports"],function(e,t){"use strict";var s=e["default"];t["default"]={name:"clock",initialize:function(e){e.register("clock:main",s,{singleton:!0}),e.typeInjection("controller","clock","clock:main")}}}),define("app/models/definition",["ember-data","exports"],function(e,t){"use strict";var s=e["default"],a=s.attr;t["default"]=s.Model.extend({name:a("string"),count:a("number"),sortValue:a("number")})}),define("app/models/job",["ember-data","exports"],function(e,t){"use strict";var s=e["default"],a=s.attr;t["default"]=s.Model.extend({name:a("string"),jobData:a(),nextRunAt:a("date"),lastRunAt:a("date"),lastFinishedAt:a("date"),lastModifiedBy:a("date"),lockedAt:a("date"),failedAt:a("date"),failReason:a("string"),type:a("string"),repeatInterval:a("string"),priority:a("number"),isFinished:function(){return this.get("lastRunAt")&&!this.get("isRepeating")}.property("lastRunAt"),isRepeating:function(){return"single"===this.get("type")}.property("type")})}),define("app/router",["ember","exports"],function(e,t){"use strict";var s=e["default"],a=s.Router.extend({rootUrl:"/"+s.ENV.NAMESPACE+"/"});a.map(function(){this.route("application"),this.resource("jobs",{path:"/"},function(){this.route("feed",{path:"/"})})}),t["default"]=a}),define("app/routes/application",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Route.extend({})}),define("app/routes/jobs",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Route.extend({model:function(){return this.store.find("definition")},setupController:function(e,t){e.set("definitions",t)}})}),define("app/routes/jobs/feed",["ember","exports"],function(e,t){"use strict";var s=e["default"],a=s.ENV.POLL_INTERVAL;t["default"]=s.Route.extend({activate:function(){s.run.cancel(this.timer),a&&this.poll()},queryParams:{filter:{refreshModel:!0},job:{refreshModel:!0}},model:function(e){var t=this.store.getById("definition",e.job),s={filter:e.filter,name:t.get("name")};return this.store.find("job",s)},poll:function(){this.timer=s.run.later(this,function(){console.log("polling"),this.refresh().then(this.poll.bind(this))},a)}})}),define("app/serializers/application",["ember-data","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.RESTSerializer.extend({primaryKey:"_id"})}),define("app/templates/-header",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){function i(e,t){t.buffer.push("\n      <span class='logo'>\n        &#9997;\n      </span>\n      Agenda UI\n    ")}function l(e,t){var s,n="";return t.buffer.push("\n      Polling for changes every "),s=a._triageMustache.call(e,"pollInterval",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("ms.\n    "),n}function o(e,t){t.buffer.push("\n      Not polling for changes.\n    ")}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var p,u,h,f="",c=a.helperMissing,d=this;return r.buffer.push("<header class='navbar navbar-default navbar-fixed-top'>\n<div class='container'>\n  <div class='navbar-header'>\n    "),u=a["query-params"]||t&&t["query-params"],h={hash:{filter:"future",job:"all"},hashTypes:{filter:"STRING",job:"STRING"},hashContexts:{filter:t,job:t},contexts:[],types:[],data:r},p=u?u.call(t,h):c.call(t,"query-params",h),u=a["link-to"]||t&&t["link-to"],h={hash:{"class":"navbar-brand"},hashTypes:{"class":"STRING"},hashContexts:{"class":t},inverse:d.noop,fn:d.program(1,i,r),contexts:[t,t],types:["STRING","sexpr"],data:r},p=u?u.call(t,"jobs.feed",p,h):c.call(t,"link-to","jobs.feed",p,h),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n  </div>\n\n  <div class='navbar-text navbar-right'>\n    "),p=a["if"].call(t,"pollInterval",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(5,o,r),fn:d.program(3,l,r),contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n  </div>\n</div>\n</header>\n"),f})}),define("app/templates/-loader",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{},r.buffer.push("  <div class='loader'>\n    <div class='loader-circle'></div>\n    <div class='loader-circle'></div>\n    <div class='loader-circle'></div>\n  </div>\n")})}),define("app/templates/-sidebar",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){function i(e,t){var s,n="";return t.buffer.push("\n        <div class='text-overflow'>Future</div>\n        <span class='badge pull-right'>"),s=a._triageMustache.call(e,"meta.future",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</span>\n      "),n}function l(e,t){var s,n="";return t.buffer.push("\n        <div class='text-overflow'>Completed</div>\n        <span class='badge pull-right'>"),s=a._triageMustache.call(e,"meta.completed",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</span>\n      "),n}function o(e,t){var s,n="";return t.buffer.push("\n        <div class='text-overflow'>Failed</div>\n        <span class='badge pull-right'>"),s=a._triageMustache.call(e,"meta.failed",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</span>\n      "),n}function p(e,t){var s,n,r,i="";return t.buffer.push("\n      <li>\n        "),n=a["query-params"]||e&&e["query-params"],r={hash:{job:"definition.id"},hashTypes:{job:"ID"},hashContexts:{job:e},contexts:[],types:[],data:t},s=n?n.call(e,r):b.call(e,"query-params",r),n=a["link-to"]||e&&e["link-to"],r={hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(8,u,t),contexts:[e,e],types:["STRING","sexpr"],data:t},s=n?n.call(e,"jobs.feed",s,r):b.call(e,"link-to","jobs.feed",s,r),(s||0===s)&&t.buffer.push(s),t.buffer.push("\n      </li>\n    "),i}function u(e,t){var s,n="";return t.buffer.push("\n          <div class='text-overflow'>"),s=a._triageMustache.call(e,"definition.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</div>\n          <span class='badge pull-right'>"),s=a._triageMustache.call(e,"definition.count",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("</span>\n        "),n}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var h,f,c,d="",b=a.helperMissing,m=this;return r.buffer.push("<aside class='sidebar'>\n\n  <ul class=\"nav nav-pills nav-stacked nav-filters\">\n    <li class='text-info'>\n      "),f=a["query-params"]||t&&t["query-params"],c={hash:{filter:"future"},hashTypes:{filter:"STRING"},hashContexts:{filter:t},contexts:[],types:[],data:r},h=f?f.call(t,c):b.call(t,"query-params",c),f=a["link-to"]||t&&t["link-to"],c={hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,r),contexts:[t,t],types:["STRING","sexpr"],data:r},h=f?f.call(t,"jobs.feed",h,c):b.call(t,"link-to","jobs.feed",h,c),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n    </li>\n    <li class='text-success'>\n      "),f=a["query-params"]||t&&t["query-params"],c={hash:{filter:"completed"},hashTypes:{filter:"STRING"},hashContexts:{filter:t},contexts:[],types:[],data:r},h=f?f.call(t,c):b.call(t,"query-params",c),f=a["link-to"]||t&&t["link-to"],c={hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(3,l,r),contexts:[t,t],types:["STRING","sexpr"],data:r},h=f?f.call(t,"jobs.feed",h,c):b.call(t,"link-to","jobs.feed",h,c),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n    </li>\n    <li class='text-danger'>\n      "),f=a["query-params"]||t&&t["query-params"],c={hash:{filter:"failed"},hashTypes:{filter:"STRING"},hashContexts:{filter:t},contexts:[],types:[],data:r},h=f?f.call(t,c):b.call(t,"query-params",c),f=a["link-to"]||t&&t["link-to"],c={hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(5,o,r),contexts:[t,t],types:["STRING","sexpr"],data:r},h=f?f.call(t,"jobs.feed",h,c):b.call(t,"link-to","jobs.feed",h,c),(h||0===h)&&r.buffer.push(h),r.buffer.push('\n    </li>\n\n  <hr />\n\n  <ul class="nav nav-pills nav-stacked">\n    '),h=a.each.call(t,"definition","in","sortedDefinitions",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(7,p,r),contexts:[t,t,t],types:["ID","ID","ID"],data:r}),(h||0===h)&&r.buffer.push(h),r.buffer.push("\n  </ul>\n\n</aside>\n\n"),d})}),define("app/templates/application",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var i,l,o,p="",u=a.helperMissing,h=this.escapeExpression;return r.buffer.push(h((l=a.partial||t&&t.partial,o={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:r},l?l.call(t,"header",o):u.call(t,"partial","header",o)))),r.buffer.push("\n\n"),i=a._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push("\n"),p})}),define("app/templates/job",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){function i(e,t){var s,n="";return t.buffer.push("\n        <span class='meta-item'>\n          &#10561; Repeats: "),s=a._triageMustache.call(e,"repeatInterval",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\n        </span>\n\n        &middot;\n      "),n}function l(e,t){var s,n="";return t.buffer.push("\n      <small class='next-run-counter'>\n        "),s=a._triageMustache.call(e,"nextRunAtFromNow",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push("\n      </small>\n      "),n}function o(e,t){var s,n,r,i="";return t.buffer.push("\n      <div class='fail-message bg-warning'>\n        <span class='fail-icon'>&#9888;</span> "),s=a._triageMustache.call(e,"failReason",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(s||0===s)&&t.buffer.push(s),t.buffer.push(" at "),t.buffer.push(d((n=a["time-tag"]||e&&e["time-tag"],r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},n?n.call(e,"failedAt",r):c.call(e,"time-tag","failedAt",r)))),t.buffer.push("\n      </div>\n    "),i}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var p,u,h,f="",c=a.helperMissing,d=this.escapeExpression,b=this;return r.buffer.push('  <div class="panel-heading">\n    <h3 class="panel-title">\n      '),p=a._triageMustache.call(t,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n      <small>\n      "),p=a["if"].call(t,"repeatInterval",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,i,r),contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n\n      <span class='meta-item'>\n        <span "),r.buffer.push(d(a["bind-attr"].call(t,{hash:{"class":":priority priorityHuman"},hashTypes:{"class":"STRING"},hashContexts:{"class":t},contexts:[],types:[],data:r}))),r.buffer.push(">&#9187;</span> Priority: "),p=a._triageMustache.call(t,"priorityHuman",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n      </span>\n      </small>\n    </h3>\n\n      "),p=a["if"].call(t,"nextRunAtFromNow",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(3,l,r),contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n  </div>\n    "),p=a["if"].call(t,"failedAt",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(5,o,r),contexts:[t],types:["ID"],data:r}),(p||0===p)&&r.buffer.push(p),r.buffer.push("\n  <div class=\"panel-body\">\n    <div class='meta'>\n\n    </div>\n\n<div class='times'>\n"),r.buffer.push(d((u=a["time-tag"]||t&&t["time-tag"],h={hash:{prefix:"Last:"},hashTypes:{prefix:"STRING"},hashContexts:{prefix:t},contexts:[t],types:["ID"],data:r},u?u.call(t,"lastRunAt",h):c.call(t,"time-tag","lastRunAt",h)))),r.buffer.push("\n"),r.buffer.push(d((u=a["time-tag"]||t&&t["time-tag"],h={hash:{prefix:"Next:"},hashTypes:{prefix:"STRING"},hashContexts:{prefix:t},contexts:[t],types:["ID"],data:r},u?u.call(t,"nextRunAt",h):c.call(t,"time-tag","nextRunAt",h)))),r.buffer.push("\n"),r.buffer.push(d((u=a["time-tag"]||t&&t["time-tag"],h={hash:{prefix:"Finished:"},hashTypes:{prefix:"STRING"},hashContexts:{prefix:t},contexts:[t],types:["ID"],data:r},u?u.call(t,"lastFinishedAt",h):c.call(t,"time-tag","lastFinishedAt",h)))),r.buffer.push("\n"),r.buffer.push(d((u=a["time-tag"]||t&&t["time-tag"],h={hash:{prefix:"Locked:"},hashTypes:{prefix:"STRING"},hashContexts:{prefix:t},contexts:[t],types:["ID"],data:r},u?u.call(t,"lockedAt",h):c.call(t,"time-tag","lockedAt",h)))),r.buffer.push("\n</div>\n\n  </div>\n\n  </div>\n  <div "),r.buffer.push(d(a.action.call(t,"toggleDataExpand",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:r}))),r.buffer.push(" "),r.buffer.push(d(a["bind-attr"].call(t,{hash:{"class":":job-data-preview :panel-footer dataExpanded:is-expanded"},hashTypes:{"class":"STRING"},hashContexts:{"class":t},contexts:[],types:[],data:r}))),r.buffer.push(">"),r.buffer.push(d((u=a["highlight-object"]||t&&t["highlight-object"],h={hash:{},hashTypes:{},hashContexts:{},contexts:[t,t,t],types:["ID","ID","INTEGER"],data:r},u?u.call(t,"jobData","null",2,h):c.call(t,"highlight-object","jobData","null",2,h)))),r.buffer.push("</div>\n\n\n\n\n\n"),f})}),define("app/templates/jobs",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var i,l,o,p="",u=a.helperMissing,h=this.escapeExpression;return r.buffer.push("<div class='container'>\n  "),r.buffer.push(h((l=a.partial||t&&t.partial,o={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:r},l?l.call(t,"sidebar",o):u.call(t,"partial","sidebar",o)))),r.buffer.push("\n\n    <div class='feed'>\n      "),i=a._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push("\n    </div>\n\n  </div>\n</div>\n"),p})}),define("app/templates/jobs/loading",["ember","exports"],function(e,t){"use strict";var s=e["default"];t["default"]=s.Handlebars.template(function(e,t,a,n,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,s.Handlebars.helpers),r=r||{};var i,l,o="",p=a.helperMissing,u=this.escapeExpression;return r.buffer.push("<div class='centered loading-container'>\n  "),r.buffer.push(u((i=a.partial||t&&t.partial,l={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:r},i?i.call(t,"loader",l):p.call(t,"partial","loader",l)))),r.buffer.push("\n</div>\n"),o})}),define("app/views/job",["ember","exports"],function(e,t){"use strict";var s=e["default"],a=s.View.extend({templateName:"job",classNames:["panel","panel-default"],classNameBindings:["controller.isFinished","controller.isRunning"],controllerBinding:"content"});t["default"]=a}),define("app/views/jobs/feed",["ember","exports"],function(e,t){"use strict";var s=e["default"],a=s.CollectionView.extend({tagName:"ul",itemViewClass:"job",contentBinding:"controller"});t["default"]=a});